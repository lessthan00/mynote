长大2019年电赛培训之PCB培训(1)(2)(3)

```
AD10 部分电路画好后可以联合,方便移动.
走线最细6mil 最大100mil 
立创EDA不用画原理图库,使用商品编号.
```

立创EDA+AD PCB设计入门(1)(2)

```
同相比例放大电路
布局传递 按照原理图来布局PCB
clearance 6mil
clearance 敷铜 15mil
width 6mil 10mil 100mil
plance 过孔敷铜方式 直接连.
使用直插运放,方便运放的回收利用.买DIP8的座子,即IC座,掰弯,代替运放.
SMDDIP8封装的DIP座子.

除了电源线以外,走线越细越好,同时clearance是线宽的两倍,即12mil,防止两根走线相互干扰,但是一般达不到这个要求,如果要在实验室里做出来,10mil太细了,容易断,选25mil, 如果发给厂家做,6mil, 8mil即可,

top layer层的挖空可以复制后改层,然后移动到bottom layer.

PCB -IN 走线短
供电的滤波去耦电容接近 VEE VDD, 
输出接一个电阻,避免后面有容性负载引起振荡.
PCB -IN 走线 前后挖空 40mil挖空.一挖到底.

信号线(越细越好大于等于6mil)
电源线(25 30 40)
地(敷铜)

单面板:
全部贴片(顶层走线)
全部直插(底层走线)
既有贴片,又有直插(所以贴片全部放在底层,然后在底层走线)
过孔: 12/24 16/34 28/50mil
```

单片机最小系统PCB设计(1)

```
测量频率或者什么量,最好使用外置晶振.内置晶振容易温漂.
供电时滤波,系统时钟<10Mhz 0.1uF,系统时钟>10Mhz 0.01uF, 可以同时用两个.
STC8A8 P3.0加一个1N5819向外, P3.1加一个300R的电阻.
原因: 本来需要连接VCC GND TxD RxD,如果不加这些,可能会发现只接GND TXD RxD单片机也能用,电流通过TxD RxD过来.

参考: STC8A8K64S4A12 开发系统板.
STC8A系列实验原理图.
```

```
供电方式:电源 Type-C  Link  接口.
保护方式:防反接 滤波 防过压 指示灯 自锁开关

划分区域 供电区 数字区 模拟区, 地通过0欧姆电阻连接,电源通过2A 300欧姆磁珠连接

选型 自锁开关 7 * 7    5W稳压二极管 5.6V 1N5338
磁珠2A 300欧姆 钽电容 16V 10uF CA45-A封装 好焊接
1N5819

连接方式 直接连 网络标号 PORT端口

```

单片机最小系统(21年)

```
	推荐芯片: STC15W4K56s4
	推荐淘宝商家:优信电子, 深圳育松电子
	时钟电路的晶振 STC89C51通常用6M 12M 20M 3.6864 11.0582 22.1184 ,后面几个是为了串口通讯.
	PCB开发板做法: 洞洞板 热转印 厂家PCB 面包板.
	
	最小系统选型, 一般0805封装. 电阻包 电容包 元件册 杜邦线; 
	stc89C52dip40 直插的; 
	时钟电路 12M晶振直插 30pF电容直插;
    复位电路 10K欧姆贴片电阻, 10uF 25V电解, 小开关; 
    防反接 保护 滤波 自锁 电路, 
    直插接口(P = 2.56mm),自锁开关, PMOS管 2301; 100uF 25V 电解电容, (10K欧姆贴片电阻, LED 3MM LED灯),  100nF MLCC;
```

```
Q:有没有运放精密整流电路介绍
A:精密整流用OPA2211,你搜一下TI官方, 有参考设计, PCB都有
Q:老师, 自己画了一块, 上电时没事, 但是一下载, 就烧芯片
A:不可能啊, 我从来没有碰到过这种情况, 烧芯片唯一的可能是你的供电电压太高了, 超过5V太多
Q:3.3v只拿j-link供电
A:STC89C52供电要5V, 3. 3V太低了, 你可以专门用USB给单片机供电
```

单片机最小系统(22年)

```
芯片型号
芯片描述 Description
TI MCU:TI产品系列, 包括但不限于MSP430, MSP432,C2000, TIVA等
ADS8361:16 位 500 kSPS 双路 ADC, 4 通道, 串行输出
ADS8329:2.7V 至 5.5V 16 位 1MSPS 串行模数转换器 (ADC)
DAC8550:16 位超低毛刺脉冲电压输出 DAC
TLV5616:可编程稳定时间与功耗关系得到优化的 12 位、单通道、低功耗电压输出 DAC
TPL0401A:具有 I2C 接口的128 抽头单通道数字电位器
PGA117:具有 10 通道多路复用器的零漂移、100µV 失调电压、12nV/√Hz 噪声、RRO（范围增益）可编程增益放大器
PGA204:50µV 失调电压、G=1、10、100、1000 可编程增益仪表放大器
THS7001:70MHz 高速可编程增益放大器
VCA810:高增益可调节范围宽带压控放大器, 10-10V
VCA821:宽带、大于 40dB 调节范围、dB 线性可变增益放大器, 7-12V
OPA2333:1.8V、17µA、2 通道、微功耗、精密、零漂移 CMOS 运算放大器
OPA333:1.8V、17µA、微功耗、精密、零漂移 CMOS 运算放大器
THS3001:420MHz 电流反馈放大器
THS4012:290MHz 双路低失真放大器,电压反馈, 10-30V
INA143:高速 (5V/µs)、250µV 失调电压、G= 10 或 G= 0.1 精密差分放大器
LMH6550:400MHz 差分高速运算放大器, 电压反馈, 4.5-12V
INA128:130dB CMRR、700µA、低功耗、精密仪表放大器
INA333:低功耗、零漂移、精密仪表放大器
TLV2316:Dual, 5.5-V, 10-MHz, RRIO operational amplifier
TPA3138D2:无电感器型、10W 立体声、18.5W 单声道、3.5V 至 14.4V、模拟输入 D 类音频放大器
TS5A3166:0.9Ω 导通状态电阻、5V、1:1 (SPST)、单通道模拟开关（高电平有效）
TMP275:采用业界通用 LM75 外形尺寸和引脚排列、具有 I2C/SMBus 接口的 ±0.5°C 温度传感器
DRV8801:40-V, 2.8-A H-bridge motor driver with current feedback 全桥电机驱动器
UC3842A:具有 16V/10V UVLO 和 100% 占空比、温度范围为 0°C 至 70°C 的 30V、1A、500KHz 电流模式 PWM 控制器
UCC28019:65kHz 连续导通模式 (CCM) PFC 控制器
LM25088:4.5-42V 宽输入电压、电流模式非同步降压控制器
TPS5450:5.5V 至 36V 输入、5A、500kHz 降压转换器
TPS63060:2.5V 至 12V 输入电压、效率为 93% 的 2.25A 开关限流降压/升压转换器
TPS7A49:具有使能功能的 150mA、36V、低噪声、高 PSRR、可调节低压降稳压器
```

```
	自锁开关 防反接 滤波 电源指示灯:这里的0.1uF电容,单片机要,运放要,存储器要,共3个,D1,R1保护.
	外部时钟电路:这里要使用ADC,需要比较精准的时钟.电路参考芯片手册.
	存储器: A0A1A2为地址, WP接地,可以正常读写, SCL读/写,SDA串口数据.输出为开漏,需要外接上拉电阻.R14为短路块,不用的时候可以断开省电.
	0.96 oled iic通讯.
	TL431: 2.5V电压参考源, 滤波C6 <0.01uF或 >10uF.这里需要使用ADC,最好要外部参考源,比较精准.
	R10为短路块,不焊时,是电压跟随器,焊上时,是正相比例运放.R13 和R12 同样是短路块, PWM纹波经过滤波后,进入运放做阻抗变换,当要输出Vcc时,使用R12.当要输出12V时,使用R13.运放输出经过滤波.
	如果通过这个代替DAC,做数控电压源,这里的输出的低通后面需要接一个电阻.防止FB引脚的运放会受电容影响而振荡.
	两个LED显示灯.
	独立按键.
```

```
布局顺序:晶振 独立按键 link下载接口 自锁开关 滤波电容 电源指示灯 重启电路 LDE灯电路 PWM做ADC的的电路 电压参考源电路 Ucap 数据存储器  芯片座子与引脚引出排针 0.96 IIC oled
16mil间距敷铜 芯片丝印 滤波电容的GND焊盘周围打上过孔.
Ctrl+D,选择PCB视图,所有隐藏.检查连线.

操作:
link 下载程序和供电,需要防反接设计,只占用一个USB串口.
ZIP40锁紧座子,可以取下芯片.
引出芯片引脚,可以方便拓展.
加入2*4芯片的VCC,GND引脚可以方便给模块供电.
过线6mil,敷铜间距12mil,发给厂家做.
过线24mil,敷铜间距16mil,热转印做.
电源Vcc过线60mil或50mil,0.1uF滤波电容.
电源电路这边防反接后有3个0.1uF滤波,一个钽电容10uF滤波.防反接后一个0.1uF,单片机电源处一个钽电容10uF滤波(远),一个0.1uF滤波(近),参考源电路也需要一个0.1uF滤波.
运放供电 10uF钽电容远,0.1uF电容近.反馈电路最短.
运放供电和存储器供电可以从防反接滤波后来取.
存储的供电的0.1uF滤波靠近引脚.
0.96 IIC OLED, 12V电压 DAC输出 Link对外接口等都可以靠近边缘,同时写好丝印,方便使用.
滤波电容GND焊盘附近打上过孔到对面可以减少电容esl,esr.滤波效果更好.
```

STC89C52单片机最小系统PCB设计

[51单片机最小系统](https://oshwhub.com/course-examples/51-dan-pian-ji-zui-xiao-xi-tong)

```
官方的STC89c52RC的最小系统板,批评:
1.STC89c52RC太古老,可以用STC12C5A60S2代替,可以PIN to PIN一一代替, 频率是前者 * 12, P1.0有8位的ADC.
但最终建议直接使用最新的STC32G12K128.
2.P1口的排阻可以去掉.内部STC加了上拉电阻的.
3.原理图供电用type-c,下载资料用Link,占用两个USB口.建议使用Link供电, 同时PMOS防反接.
4.单片机座子改为ZIP-40锁紧座,更安全取.
5.趋势是除了单片机,全用贴片.
6.芯片供电,10uF钽电容,0.1uFMLCC,前者远一些,后者紧贴.
7.芯片的速率不高,串口通信不需要做差分线处理.
8.晶振地下需要敷铜.焊接的时候,轻轻刮一些晶振上的铁皮,然后紧紧焊上去.
9.电源指示灯可以放在空旷的地方.
10.GND周围的敷铜尽量厚一点,可以增加电流流通.所以其他数据信号线可以挤开.
11.51单片机的EN引脚,上拉,使用内部rom,下拉,使用外部rom.但有内部上拉电阻,所以可以不管.
12.晶振的孔可以做大点,比如 1.2/2/2 mm.需要使用串口通讯的时候,使用11.0582晶振. 如果使用PWM做ADC,使用12M晶振.这样可以用吸锡器换晶振.
```

```
在焊接顶层时, 主控芯片建议优先焊接, 避免其它器件影响焊接;
焊接排针时可用一块空板或洞洞板顶住, 防止焊斜, 影响使用;
焊接顺序应遵循从低到高原则进行, 避免影响小器件的焊接;
```

